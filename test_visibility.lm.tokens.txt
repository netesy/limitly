Tokens for test_visibility.lm
Parser: New Unified Parser (CST mode)
Mode: CST with trivia preservation
========================================

=== Tokens with Trivia ===
Line 3: ABSTRACT = 'abstract' [leading: COMMENT_LINE('// Test visibility and modifier parsing (corrected)') NEWLINE('
') NEWLINE('
') ]
Line 3: CLASS = 'class' [leading: WHITESPACE(' ') ]
Line 3: IDENTIFIER = 'Shape' [leading: WHITESPACE(' ') ]
Line 3: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 5: PUB = 'pub' [leading: NEWLINE('
') WHITESPACE('    ') COMMENT_LINE('// Fields') NEWLINE('
') WHITESPACE('    ') ]
Line 5: VAR = 'var' [leading: WHITESPACE(' ') ]
Line 5: IDENTIFIER = 'name' [leading: WHITESPACE(' ') ]
Line 5: COLON = ':'
Line 5: STR_TYPE = 'str' [leading: WHITESPACE(' ') ]
Line 5: EQUAL = '=' [leading: WHITESPACE(' ') ]
Line 5: STRING = '"shape"' [leading: WHITESPACE(' ') ]
Line 5: SEMICOLON = ';'
Line 6: PROT = 'prot' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 6: VAR = 'var' [leading: WHITESPACE(' ') ]
Line 6: IDENTIFIER = 'area' [leading: WHITESPACE(' ') ]
Line 6: COLON = ':'
Line 6: FLOAT_TYPE = 'float' [leading: WHITESPACE(' ') ]
Line 6: EQUAL = '=' [leading: WHITESPACE(' ') ]
Line 6: NUMBER = '0.0' [leading: WHITESPACE(' ') ]
Line 6: SEMICOLON = ';'
Line 7: PUB = 'pub' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 7: LEFT_PAREN = '('
Line 7: READ = 'read'
Line 7: RIGHT_PAREN = ')'
Line 7: VAR = 'var' [leading: WHITESPACE(' ') ]
Line 7: IDENTIFIER = 'id' [leading: WHITESPACE(' ') ]
Line 7: COLON = ':'
Line 7: INT_TYPE = 'int' [leading: WHITESPACE(' ') ]
Line 7: EQUAL = '=' [leading: WHITESPACE(' ') ]
Line 7: NUMBER = '1' [leading: WHITESPACE(' ') ]
Line 7: SEMICOLON = ';'
Line 8: STATIC = 'static' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 8: VAR = 'var' [leading: WHITESPACE(' ') ]
Line 8: IDENTIFIER = 'count' [leading: WHITESPACE(' ') ]
Line 8: COLON = ':'
Line 8: INT_TYPE = 'int' [leading: WHITESPACE(' ') ]
Line 8: EQUAL = '=' [leading: WHITESPACE(' ') ]
Line 8: NUMBER = '0' [leading: WHITESPACE(' ') ]
Line 8: SEMICOLON = ';'
Line 11: PUB = 'pub' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') COMMENT_LINE('// Methods') NEWLINE('
') WHITESPACE('    ') ]
Line 11: FN = 'fn' [leading: WHITESPACE(' ') ]
Line 11: IDENTIFIER = 'getName' [leading: WHITESPACE(' ') ]
Line 11: LEFT_PAREN = '('
Line 11: RIGHT_PAREN = ')'
Line 11: COLON = ':' [leading: WHITESPACE(' ') ]
Line 11: STR_TYPE = 'str' [leading: WHITESPACE(' ') ]
Line 11: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 12: RETURN = 'return' [leading: NEWLINE('
') WHITESPACE('        ') ]
Line 12: SELF = 'self' [leading: WHITESPACE(' ') ]
Line 12: DOT = '.'
Line 12: IDENTIFIER = 'name'
Line 12: SEMICOLON = ';'
Line 13: RIGHT_BRACE = '}' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 15: PROT = 'prot' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') ]
Line 15: FN = 'fn' [leading: WHITESPACE(' ') ]
Line 15: IDENTIFIER = 'calculateArea' [leading: WHITESPACE(' ') ]
Line 15: LEFT_PAREN = '('
Line 15: RIGHT_PAREN = ')'
Line 15: COLON = ':' [leading: WHITESPACE(' ') ]
Line 15: FLOAT_TYPE = 'float' [leading: WHITESPACE(' ') ]
Line 15: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 16: RETURN = 'return' [leading: NEWLINE('
') WHITESPACE('        ') ]
Line 16: SELF = 'self' [leading: WHITESPACE(' ') ]
Line 16: DOT = '.'
Line 16: IDENTIFIER = 'area'
Line 16: SEMICOLON = ';'
Line 17: RIGHT_BRACE = '}' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 20: ABSTRACT = 'abstract' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') COMMENT_LINE('// Abstract methods cannot have a body or be final/static') NEWLINE('
') WHITESPACE('    ') ]
Line 20: FN = 'fn' [leading: WHITESPACE(' ') ]
Line 20: IDENTIFIER = 'draw' [leading: WHITESPACE(' ') ]
Line 20: LEFT_PAREN = '('
Line 20: RIGHT_PAREN = ')'
Line 20: SEMICOLON = ';'
Line 23: FINAL = 'final' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') COMMENT_LINE('// Final method prevents overriding in subclasses') NEWLINE('
') WHITESPACE('    ') ]
Line 23: FN = 'fn' [leading: WHITESPACE(' ') ]
Line 23: IDENTIFIER = 'getId' [leading: WHITESPACE(' ') ]
Line 23: LEFT_PAREN = '('
Line 23: RIGHT_PAREN = ')'
Line 23: COLON = ':' [leading: WHITESPACE(' ') ]
Line 23: INT_TYPE = 'int' [leading: WHITESPACE(' ') ]
Line 23: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 24: RETURN = 'return' [leading: NEWLINE('
') WHITESPACE('        ') ]
Line 24: SELF = 'self' [leading: WHITESPACE(' ') ]
Line 24: DOT = '.'
Line 24: IDENTIFIER = 'id'
Line 24: SEMICOLON = ';'
Line 25: RIGHT_BRACE = '}' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 28: STATIC = 'static' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') COMMENT_LINE('// Static method belongs to the class, not instances') NEWLINE('
') WHITESPACE('    ') ]
Line 28: FN = 'fn' [leading: WHITESPACE(' ') ]
Line 28: IDENTIFIER = 'getCount' [leading: WHITESPACE(' ') ]
Line 28: LEFT_PAREN = '('
Line 28: RIGHT_PAREN = ')'
Line 28: COLON = ':' [leading: WHITESPACE(' ') ]
Line 28: INT_TYPE = 'int' [leading: WHITESPACE(' ') ]
Line 28: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 29: RETURN = 'return' [leading: NEWLINE('
') WHITESPACE('        ') ]
Line 29: IDENTIFIER = 'Shape' [leading: WHITESPACE(' ') ]
Line 29: DOT = '.'
Line 29: IDENTIFIER = 'count'
Line 29: SEMICOLON = ';'
Line 30: RIGHT_BRACE = '}' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 31: RIGHT_BRACE = '}' [leading: NEWLINE('
') ]
Line 34: FINAL = 'final' [leading: NEWLINE('
') NEWLINE('
') COMMENT_LINE('// Final class cannot be extended; methods inside donâ€™t need to be final') NEWLINE('
') ]
Line 34: CLASS = 'class' [leading: WHITESPACE(' ') ]
Line 34: IDENTIFIER = 'Circle' [leading: WHITESPACE(' ') ]
Line 34: COLON = ':' [leading: WHITESPACE(' ') ]
Line 34: IDENTIFIER = 'Shape' [leading: WHITESPACE(' ') ]
Line 34: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 35: PUB = 'pub' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 35: IDENTIFIER = 'radius' [leading: WHITESPACE(' ') ]
Line 35: COLON = ':'
Line 35: FLOAT_TYPE = 'float' [leading: WHITESPACE(' ') ]
Line 35: SEMICOLON = ';'
Line 37: FN = 'fn' [leading: NEWLINE('
') WHITESPACE('    ') NEWLINE('
') WHITESPACE('    ') ]
Line 37: IDENTIFIER = 'draw' [leading: WHITESPACE(' ') ]
Line 37: LEFT_PAREN = '('
Line 37: RIGHT_PAREN = ')'
Line 37: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 38: PRINT = 'print' [leading: NEWLINE('
') WHITESPACE('        ') ]
Line 38: LEFT_PAREN = '('
Line 38: INTERPOLATION_START = '"Drawing circle with radius "'
Line 38: SELF = 'self'
Line 38: DOT = '.'
Line 38: IDENTIFIER = 'radius'
Line 38: INTERPOLATION_END = ''
Line 38: STRING = '""'
Line 38: RIGHT_PAREN = ')'
Line 38: SEMICOLON = ';'
Line 39: RIGHT_BRACE = '}' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 40: RIGHT_BRACE = '}' [leading: NEWLINE('
') ]
Line 43: DATA = 'data' [leading: NEWLINE('
') NEWLINE('
') COMMENT_LINE('// Simple data struct (no visibility modifiers needed)') NEWLINE('
') ]
Line 43: IDENTIFIER = 'Point' [leading: WHITESPACE(' ') ]
Line 43: LEFT_BRACE = '{' [leading: WHITESPACE(' ') ]
Line 44: IDENTIFIER = 'x' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 44: COLON = ':'
Line 44: FLOAT_TYPE = 'float' [leading: WHITESPACE(' ') ]
Line 44: SEMICOLON = ';'
Line 45: IDENTIFIER = 'y' [leading: NEWLINE('
') WHITESPACE('    ') ]
Line 45: COLON = ':'
Line 45: FLOAT_TYPE = 'float' [leading: WHITESPACE(' ') ]
Line 45: SEMICOLON = ';'
Line 46: RIGHT_BRACE = '}' [leading: NEWLINE('
') ]
Line 48: PRINT = 'print' [leading: NEWLINE('
') NEWLINE('
') ]
Line 48: LEFT_PAREN = '('
Line 48: STRING = '"Visibility and modifier parsing test complete"'
Line 48: RIGHT_PAREN = ')'
Line 48: SEMICOLON = ';'
Line 49: EOF_TOKEN = ''
