// Test multiple parallel blocks to ensure proper cleanup
print("=== Multiple Parallel Blocks Test ===");

var counter1: int = 0;
var counter2: int = 0;

print("Initial counters:");
print("Counter1:", counter1);
print("Counter2:", counter2);

// First parallel block
parallel {
    task (i in 1..3) {
        print("Block 1 - Task", i, "starting");
        counter1 = counter1 + 1;
        print("Block 1 - Task", i, "done, counter1 =", counter1);
    }
}

print("After first parallel block:");
print("Counter1:", counter1);

// Second parallel block
parallel {
    task (i in 1..2) {
        print("Block 2 - Task", i, "starting");
        counter2 = counter2 + 1;
        print("Block 2 - Task", i, "done, counter2 =", counter2);
    }
}

print("Final counters:");
print("Counter1:", counter1);
print("Counter2:", counter2);