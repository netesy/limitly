// Test closures
print("=== Closure Tests ===");

// Test 1: Simple closure
fn createCounter(): function {
    var count = 0;
    return fn(): int {
        count = count + 1;
        return count;
    };
}

var counter1 = createCounter();
var counter2 = createCounter();

print("Counter 1:");
print("Call 1: " + counter1());
print("Call 2: " + counter1());
print("Call 3: " + counter1());

print("Counter 2:");
print("Call 1: " + counter2());
print("Call 2: " + counter2());

// Test 2: Closure with parameters
fn createMultiplier(factor: int): function {
    return fn(x: int): int {
        return x * factor;
    };
}

var double = createMultiplier(2);
var triple = createMultiplier(3);

print("Multiplier closures:");
print("double(5) = " + double(5));
print("triple(4) = " + triple(4));

print("=== Closure Tests Complete ===");