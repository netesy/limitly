// Test to understand the difference between closures and higher-order functions

print("=== Closure vs Higher-Order Function Test ===");

// Test 1: Direct lambda calling (WORKS)
print("\n--- Test 1: Direct Lambda Calling ---");
var myLambda = fn(x: int): int {
    return x * 2;
};

print("Lambda created: " + myLambda);
var result1 = myLambda(5);  // This should work
print("Direct lambda call myLambda(5) = " + result1);

// Test 2: Function parameter calling (DOESN'T WORK)
print("\n--- Test 2: Function Parameter Calling ---");
fn callFunction(f: function, value: int): int {
    print("Received function: " + f);
    print("Trying to call f(" + value + ")...");
    // This is where it fails - calling a function parameter
    return f(value);  // This will cause errors
}

print("About to test function parameter calling...");
var result2 = callFunction(myLambda, 5);
print("Function parameter call result = " + result2);

print("\n=== Test Complete ===");