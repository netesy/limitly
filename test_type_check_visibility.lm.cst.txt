CST for test_type_check_visibility.lm
Parser: New Unified Parser (CST mode)
Mode: CST (cstMode=true)
========================================

CST Statistics:
- CST nodes created: 62
- Trivia attachments: 0
- Parse errors: 0

=== Full CST Structure ===
+ Node: PROGRAM [178-191] (Program root node with trivia)
└─ + Node: FUNCTION_DECLARATION [205-303]
  ├─ + Node: BLOCK_STATEMENT [198-200]
  │ └─ + Node: BLOCK_STATEMENT [0-231] (block statement)
  │   ├─ + Node: WHITESPACE_NODE | Token:   [198-199]
  │   ├─ Token: { [199-200]
  │   ├─ + Node: LITERAL_EXPR [212-228] (string literal)
  │   │ ├─ + Node: WHITESPACE_NODE | Token:   [211-212]
  │   │ └─ Token: "private helper" [212-228]
  │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
  │   ├─ + Node: WHITESPACE_NODE | Token: 
 [229-230]
  │   └─ Token: } [230-231]
  └─ + Node: FUNCTION_DECLARATION [317-434]
    ├─ + Node: BLOCK_STATEMENT [310-312]
    │ └─ + Node: BLOCK_STATEMENT [0-342] (block statement)
    │   ├─ + Node: WHITESPACE_NODE | Token:   [310-311]
    │   ├─ Token: { [311-312]
    │   ├─ + Node: LITERAL_EXPR [324-339] (string literal)
    │   │ ├─ + Node: WHITESPACE_NODE | Token:   [323-324]
    │   │ └─ Token: "public helper" [324-339]
    │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
    │   ├─ + Node: WHITESPACE_NODE | Token: 
 [340-341]
    │   └─ Token: } [341-342]
    └─ + Node: FUNCTION_DECLARATION [448-490]
      ├─ + Node: BLOCK_STATEMENT [441-443]
      │ └─ + Node: BLOCK_STATEMENT [0-476] (block statement)
      │   ├─ + Node: WHITESPACE_NODE | Token:   [441-442]
      │   ├─ Token: { [442-443]
      │   ├─ + Node: LITERAL_EXPR [455-473] (string literal)
      │   │ ├─ + Node: WHITESPACE_NODE | Token:   [454-455]
      │   │ └─ Token: "protected helper" [455-473]
      │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
      │   ├─ + Node: WHITESPACE_NODE | Token: 
 [474-475]
      │   └─ Token: } [475-476]
      └─ + Node: CLASS_DECLARATION [734-741]
        └─ + Node: FUNCTION_DECLARATION [759-853]
          ├─ + Node: BLOCK_STATEMENT [748-750]
          │ └─ + Node: BLOCK_STATEMENT [0-827] (block statement)
          │   ├─ + Node: WHITESPACE_NODE | Token:   [748-749]
          │   ├─ Token: { [749-750]
          │   ├─ + Node: VARIABLE_EXPR [770-771]
          │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
          │   ├─ + Node: WHITESPACE_NODE | Token:    [776-778]
          │   ├─ + Node: COMMENT_NODE | Token: // Should work - same class and same module [778-821]
          │   ├─ + Node: WHITESPACE_NODE | Token: 
 [821-822]
          │   ├─ + Node: WHITESPACE_NODE | Token:      [822-826]
          │   └─ Token: } [826-827]
          └─ + Node: FUNCTION_DECLARATION [926-1013]
            ├─ + Node: BLOCK_STATEMENT [860-862]
            │ └─ + Node: BLOCK_STATEMENT [0-984] (block statement)
            │   ├─ + Node: WHITESPACE_NODE | Token:   [860-861]
            │   ├─ Token: { [861-862]
            │   ├─ + Node: VARIABLE_EXPR [946-947]
            │   ├─ + Node: VARIABLE_EXPR [933-946] (variable reference)
            │   │ ├─ + Node: WHITESPACE_NODE | Token:   [932-933]
            │   │ └─ Token: privateHelper [933-946]
            │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
            │   ├─ + Node: WHITESPACE_NODE | Token:   [949-950]
            │   ├─ + Node: COMMENT_NODE | Token: // Should work - same module [950-978]
            │   ├─ + Node: WHITESPACE_NODE | Token: 
 [978-979]
            │   ├─ + Node: WHITESPACE_NODE | Token:      [979-983]
            │   └─ Token: } [983-984]
            └─ + Node: FUNCTION_DECLARATION [1031-1147]
              ├─ + Node: BLOCK_STATEMENT [1020-1022]
              │ └─ + Node: BLOCK_STATEMENT [0-1053] (block statement)
              │   ├─ + Node: WHITESPACE_NODE | Token:   [1020-1021]
              │   ├─ Token: { [1021-1022]
              │   ├─ + Node: LITERAL_EXPR [1038-1046] (string literal)
              │   │ ├─ + Node: WHITESPACE_NODE | Token:   [1037-1038]
              │   │ └─ Token: "public" [1038-1046]
              │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
              │   ├─ + Node: WHITESPACE_NODE | Token: 
 [1047-1048]
              │   ├─ + Node: WHITESPACE_NODE | Token:      [1048-1052]
              │   └─ Token: } [1052-1053]
              ├─ + Node: FUNCTION_DECLARATION [1104-1110]
              │ └─ + Node: BLOCK_STATEMENT [1093-1095]
              │   └─ + Node: BLOCK_STATEMENT [0-1129] (block statement)
              │     ├─ + Node: WHITESPACE_NODE | Token:   [1093-1094]
              │     ├─ Token: { [1094-1095]
              │     ├─ + Node: LITERAL_EXPR [1111-1122] (string literal)
              │     │ ├─ + Node: WHITESPACE_NODE | Token:   [1110-1111]
              │     │ └─ Token: "protected" [1111-1122]
              │     ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
              │     ├─ + Node: WHITESPACE_NODE | Token: 
 [1123-1124]
              │     ├─ + Node: WHITESPACE_NODE | Token:      [1124-1128]
              │     └─ Token: } [1128-1129]
              └─ + Node: CLASS_DECLARATION [1170-1183]
                └─ + Node: FUNCTION_DECLARATION [1201-1305]
                  ├─ + Node: BLOCK_STATEMENT [1190-1192]
                  │ └─ + Node: BLOCK_STATEMENT [0-1271] (block statement)
                  │   ├─ + Node: WHITESPACE_NODE | Token:   [1190-1191]
                  │   ├─ Token: { [1191-1192]
                  │   ├─ + Node: VARIABLE_EXPR [1212-1213]
                  │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                  │   ├─ + Node: WHITESPACE_NODE | Token:      [1216-1220]
                  │   ├─ + Node: COMMENT_NODE | Token: // Should work - protected member in subclass [1220-1265]
                  │   ├─ + Node: WHITESPACE_NODE | Token: 
 [1265-1266]
                  │   ├─ + Node: WHITESPACE_NODE | Token:      [1266-1270]
                  │   └─ Token: } [1270-1271]
                  └─ + Node: FUNCTION_DECLARATION [1323-1601]
                    ├─ + Node: BLOCK_STATEMENT [1312-1314]
                    │ └─ + Node: BLOCK_STATEMENT [0-1395] (block statement)
                    │   ├─ + Node: WHITESPACE_NODE | Token:   [1312-1313]
                    │   ├─ Token: { [1313-1314]
                    │   ├─ + Node: VARIABLE_EXPR [1334-1335]
                    │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                    │   ├─ + Node: WHITESPACE_NODE | Token:    [1340-1342]
                    │   ├─ + Node: COMMENT_NODE | Token: // Should work - private member but same module [1342-1389]
                    │   ├─ + Node: WHITESPACE_NODE | Token: 
 [1389-1390]
                    │   ├─ + Node: WHITESPACE_NODE | Token:      [1390-1394]
                    │   └─ Token: } [1394-1395]
                    ├─ + Node: FUNCTION_DECLARATION [1449-1455]
                    │ └─ + Node: BLOCK_STATEMENT [1438-1440]
                    │   └─ + Node: BLOCK_STATEMENT [0-1531] (block statement)
                    │     ├─ + Node: WHITESPACE_NODE | Token:   [1438-1439]
                    │     ├─ Token: { [1439-1440]
                    │     ├─ + Node: VARIABLE_EXPR [1460-1461]
                    │     ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                    │     ├─ + Node: WHITESPACE_NODE | Token:   [1479-1480]
                    │     ├─ + Node: COMMENT_NODE | Token: // Should work - protected method in subclass [1480-1525]
                    │     ├─ + Node: WHITESPACE_NODE | Token: 
 [1525-1526]
                    │     ├─ + Node: WHITESPACE_NODE | Token:      [1526-1530]
                    │     └─ Token: } [1530-1531]
                    └─ + Node: FUNCTION_DECLARATION [0-2638]
                      ├─ + Node: BLOCK_STATEMENT [1603-1605]
                      │ └─ + Node: BLOCK_STATEMENT [0-1814] (block statement)
                      │   ├─ + Node: WHITESPACE_NODE | Token:   [1603-1604]
                      │   ├─ Token: { [1604-1605]
                      │   ├─ + Node: VAR_DECLARATION [1614-1621]
                      │   ├─ + Node: VARIABLE_EXPR [1637-1638]
                      │   ├─ + Node: VARIABLE_EXPR [1624-1637] (variable reference)
                      │   │ ├─ + Node: WHITESPACE_NODE | Token:   [1623-1624]
                      │   │ └─ Token: privateHelper [1624-1637]
                      │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      │   ├─ + Node: VAR_DECLARATION [1681-1688]
                      │   ├─ + Node: VARIABLE_EXPR [1706-1707]
                      │   ├─ + Node: VARIABLE_EXPR [1691-1706] (variable reference)
                      │   │ ├─ + Node: WHITESPACE_NODE | Token:   [1690-1691]
                      │   │ └─ Token: protectedHelper [1691-1706]
                      │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      │   ├─ + Node: VAR_DECLARATION [1748-1755]
                      │   ├─ + Node: VARIABLE_EXPR [1770-1771]
                      │   ├─ + Node: VARIABLE_EXPR [1758-1770] (variable reference)
                      │   │ ├─ + Node: WHITESPACE_NODE | Token:   [1757-1758]
                      │   │ └─ Token: publicHelper [1758-1770]
                      │   ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      │   ├─ + Node: WHITESPACE_NODE | Token:       [1773-1778]
                      │   ├─ + Node: COMMENT_NODE | Token: // Should work - always accessible [1778-1812]
                      │   ├─ + Node: WHITESPACE_NODE | Token: 
 [1812-1813]
                      │   └─ Token: } [1813-1814]
                      ├─ + Node: VAR_DECLARATION [1820-1826]
                      ├─ + Node: VARIABLE_EXPR [1835-1836]
                      ├─ + Node: VARIABLE_EXPR [1829-1835] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [1828-1829]
                      │ └─ Token: Person [1829-1835]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [1886-1889]
                      ├─ + Node: VARIABLE_EXPR [1898-1899]
                      ├─ + Node: VARIABLE_EXPR [1892-1898] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [1891-1892]
                      │ └─ Token: person [1892-1898]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [1919-1923]
                      ├─ + Node: VARIABLE_EXPR [1932-1933]
                      ├─ + Node: VARIABLE_EXPR [1926-1932] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [1925-1926]
                      │ └─ Token: person [1926-1932]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [1952-1958]
                      ├─ + Node: VARIABLE_EXPR [1967-1968]
                      ├─ + Node: VARIABLE_EXPR [1961-1967] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [1960-1961]
                      │ └─ Token: person [1961-1967]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2031-2042]
                      ├─ + Node: VARIABLE_EXPR [2051-2052]
                      ├─ + Node: VARIABLE_EXPR [2045-2051] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2044-2045]
                      │ └─ Token: person [2045-2051]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2102-2115]
                      ├─ + Node: VARIABLE_EXPR [2124-2125]
                      ├─ + Node: VARIABLE_EXPR [2118-2124] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2117-2118]
                      │ └─ Token: person [2118-2124]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2240-2242]
                      ├─ + Node: VARIABLE_EXPR [2251-2252]
                      ├─ + Node: VARIABLE_EXPR [2245-2251] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2244-2245]
                      │ └─ Token: person [2245-2251]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2310-2325]
                      ├─ + Node: VARIABLE_EXPR [2334-2335]
                      ├─ + Node: VARIABLE_EXPR [2328-2334] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2327-2328]
                      │ └─ Token: person [2328-2334]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2392-2400]
                      ├─ + Node: VARIABLE_EXPR [2411-2412]
                      ├─ + Node: VARIABLE_EXPR [2403-2411] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2402-2403]
                      │ └─ Token: Employee [2403-2411]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2419-2424]
                      ├─ + Node: VARIABLE_EXPR [2435-2436]
                      ├─ + Node: VARIABLE_EXPR [2427-2435] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2426-2427]
                      │ └─ Token: employee [2427-2435]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2476-2483]
                      ├─ + Node: VARIABLE_EXPR [2494-2495]
                      ├─ + Node: VARIABLE_EXPR [2486-2494] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2485-2486]
                      │ └─ Token: employee [2486-2494]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: VAR_DECLARATION [2549-2556]
                      ├─ + Node: VARIABLE_EXPR [2567-2568]
                      ├─ + Node: VARIABLE_EXPR [2559-2567] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2558-2559]
                      │ └─ Token: employee [2559-2567]
                      ├─ + Node: LITERAL_EXPR [0-0] (top-level expression)
                      ├─ + Node: EXPRESSION_STATEMENT [2621-2637]
                      ├─ + Node: VARIABLE_EXPR [2637-2638]
                      ├─ + Node: VARIABLE_EXPR [2621-2637] (variable reference)
                      │ ├─ + Node: WHITESPACE_NODE | Token:   [2590-2591]
                      │ ├─ + Node: COMMENT_NODE | Token: // Should work - inheritance [2591-2619]
                      │ ├─ + Node: WHITESPACE_NODE | Token: 
 [2619-2620]
                      │ ├─ + Node: WHITESPACE_NODE | Token: 
 [2620-2621]
                      │ └─ Token: testModuleAccess [2621-2637]
                      └─ + Node: LITERAL_EXPR [0-0] (top-level expression)

