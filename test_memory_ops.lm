// Test JIT-Safe Memory Operations - Using existing infrastructure

fn test_stack_allocation() {
    // Non-escaping value - should be stack allocated
    var x = 42
    var y = 64
    print("Stack values: x={x}, y={y}")
    // Auto-generate: drop on scope exit
}

fn test_heap_allocation(): int {
    // Escaping value - should be heap allocated
    var result = 100
    return result  // Forces heap allocation
}

fn test_move_semantics() {
    var value = test_heap_allocation()  // Heap allocated
    print("Moved value: {value}")
    // Auto-generate: drop at end
}

fn test_simple_allocation() {
    // Simple test with basic types
    var numbers = [1, 2, 3, 4, 5]
    print("Array: {numbers}")
    // Array should be stack allocated if it doesn't escape
}

fn main() {
    print("=== Testing JIT-Safe Memory Operations ===")
    test_stack_allocation()
    test_move_semantics()
    test_simple_allocation()
    print("=== Memory Tests Complete ===")
}
