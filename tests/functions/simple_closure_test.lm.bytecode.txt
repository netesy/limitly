Bytecode for tests\functions\simple_closure_test.lm
Parser: New Unified Parser (CST mode)
========================================

=== Bytecode ===
Generated 49 instructions

   0: PUSH_STRING          "=== Simple Closure Test ==="
   1: PRINT               
   2: BEGIN_FUNCTION       "simpleAdd"
   3: DEFINE_PARAM        
   4: DEFINE_PARAM        
   5: BEGIN_SCOPE         
   6: LOAD_VAR             "a"
   7: LOAD_VAR             "b"
   8: ADD                 
   9: RETURN              
  10: END_SCOPE           
  11: PUSH_NULL           
  12: RETURN              
  13: END_FUNCTION        
  14: PUSH_FUNCTION       
  15: STORE_VAR            "simpleAdd"
  16: PUSH_INT             5
  17: PUSH_INT             3
  18: CALL                 "simpleAdd"
  19: STORE_VAR            "result"
  20: PUSH_STRING          "Simple function result: "
  21: LOAD_VAR             "result"
  22: ADD                 
  23: PRINT               
  24: BEGIN_FUNCTION       "__lambda_0"
  25: DEFINE_PARAM        
  26: BEGIN_SCOPE         
  27: LOAD_VAR             "x"
  28: PUSH_INT             2
  29: MULTIPLY            
  30: RETURN              
  31: END_SCOPE           
  32: PUSH_NULL           
  33: RETURN              
  34: END_FUNCTION        
  35: PUSH_LAMBDA         
  36: PUSH_INT             0
  37: CREATE_CLOSURE       "__lambda_0"
  38: STORE_VAR            "simpleLambda"
  39: PUSH_INT             5
  40: CALL                 "simpleLambda"
  41: STORE_VAR            "lambdaResult"
  42: PUSH_STRING          "Lambda result: "
  43: LOAD_VAR             "lambdaResult"
  44: ADD                 
  45: PRINT               
  46: PUSH_STRING          "=== Test Complete ==="
  47: PRINT               
  48: HALT                

