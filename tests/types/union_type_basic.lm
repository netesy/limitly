// Basic Union Type System Tests
// Testing the core union type functionality that's implemented

print("=== Basic Union Type System Tests ===");

// Test 1: Basic union type creation and usage
print("Test 1: Basic union types");
type NumberOrString = int | str;

// Test 2: Multi-variant union types with string-based types
print("Test 2: Multi-variant union types");
type Red = str;
type Green = str;
type Blue = str;
type Yellow = str;
type Color = Red | Green | Blue | Yellow;

// Test 3: Union with primitive types
print("Test 3: Primitive union types");
type Value = int | f64 | str | bool;

// Test 4: Nested union types (should be flattened)
print("Test 4: Nested union types");
type InnerUnion = int | str;
type OuterUnion = InnerUnion | bool;  // Should flatten to int | str | bool

// Test 5: Union type compatibility testing
print("Test 5: Union type compatibility");

// Variable declarations with union types
var numberOrString: NumberOrString;
var colorValue: Color;
var mixedValue: Value;

// Test assignments (should be compatible)
numberOrString = 42;        // int should be compatible with int | str
print("NumberOrString (int): ");
print(numberOrString);

numberOrString = "hello";   // str should be compatible with int | str
print("NumberOrString (str): ");
print(numberOrString);

colorValue = "Red";         // str should be compatible with Red (which is str)
print("Color value: ");
print(colorValue);

mixedValue = 123;           // int should be compatible with int | f64 | str | bool
print("Mixed (int): ");
print(mixedValue);

mixedValue = 3.14;          // f64 should be compatible with int | f64 | str | bool
print("Mixed (f64): ");
print(mixedValue);

mixedValue = "test";        // str should be compatible with int | f64 | str | bool
print("Mixed (str): ");
print(mixedValue);

mixedValue = true;          // bool should be compatible with int | f64 | str | bool
print("Mixed (bool): ");
print(mixedValue);

// Test union type flattening
print("Test 6: Union type flattening");
var flattenedValue: OuterUnion;
flattenedValue = 42;        // int should work (from flattened int | str | bool)
print("Flattened (int): ");
print(flattenedValue);

flattenedValue = "text";    // str should work (from flattened int | str | bool)
print("Flattened (str): ");
print(flattenedValue);

flattenedValue = false;     // bool should work (from flattened int | str | bool)
print("Flattened (bool): ");
print(flattenedValue);

print("=== Basic Union Type System Tests Completed ===");