// =============================================================================
// BASIC MEMORY SAFETY TESTS
// Tests basic memory safety that should work with current system
// =============================================================================

// Test 1: Basic variable initialization and use
var x: int = 42;
print(x);  // OK: Variable is initialized

// Test 2: Variable assignment
var source: int = 100;
var target: int = source;  // Move: source becomes invalid
print(target);  // OK: target owns the value

// Test 3: Scoped variables
{
    var scoped_var: int = 200;
    print(scoped_var);  // OK: Variable in scope
}
// scoped_var is out of scope here

// Test 4: Loop variables
for (var i = 0; i < 3; i = i + 1) {
    var loop_local: int = i * 10;
    print(loop_local);  // OK: loop_local is valid in loop iteration
}

// Test 5: Iterator variables
iter (value in 1..3) {
    var iter_local: int = value * 20;
    print(iter_local);  // OK: iter_local is valid in iteration
}

// Test 6: Conditional variables
var condition: bool = true;
if (condition) {
    var if_var: int = 300;
    print(if_var);  // OK: if_var is valid in if block
}

// Test 7: String variables
var name: string = "Alice";
var message: string = "Hello {name}!";
print(message);  // OK: message owns the interpolated string
print(name);     // OK: name is still valid after borrowing

// Test 8: Multiple variables
var a: int = 400;
var b: int = 500;
print(a);  // OK: a is valid
print(b);  // OK: b is valid

print("Basic memory safety tests completed successfully!");