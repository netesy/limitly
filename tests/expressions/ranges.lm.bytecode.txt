Bytecode for C:\Projects\limitly\tests\expressions\ranges.lm
Parser: New CSTParser
========================================

=== Bytecode ===
Generated 183 instructions

   0: PUSH_STRING          "=== Range Expression Tests ==="
   1: PRINT               
   2: PUSH_STRING          "Range 1..5:"
   3: PRINT               
   4: PUSH_INT             1
   5: PUSH_INT             5
   6: CREATE_RANGE        
   7: GET_ITERATOR        
   8: STORE_TEMP          
   9: LOAD_TEMP           
  10: ITERATOR_HAS_NEXT   
  11: JUMP_IF_FALSE        8
  12: LOAD_TEMP           
  13: ITERATOR_NEXT       
  14: STORE_VAR            "i"
  15: BEGIN_SCOPE         
  16: LOAD_VAR             "i"
  17: PRINT               
  18: END_SCOPE           
  19: JUMP                 -11
  20: CLEAR_TEMP          
  21: PUSH_STRING          "Range 0..3:"
  22: PRINT               
  23: PUSH_INT             0
  24: PUSH_INT             3
  25: CREATE_RANGE        
  26: GET_ITERATOR        
  27: STORE_TEMP          
  28: LOAD_TEMP           
  29: ITERATOR_HAS_NEXT   
  30: JUMP_IF_FALSE        8
  31: LOAD_TEMP           
  32: ITERATOR_NEXT       
  33: STORE_VAR            "j"
  34: BEGIN_SCOPE         
  35: LOAD_VAR             "j"
  36: PRINT               
  37: END_SCOPE           
  38: JUMP                 -11
  39: CLEAR_TEMP          
  40: PUSH_INT             5
  41: STORE_VAR            "start"
  42: PUSH_INT             8
  43: STORE_VAR            "end"
  44: PUSH_STRING         
  45: LOAD_VAR             "start"
  46: PUSH_STRING         
  47: CONCAT              
  48: LOAD_VAR             "end"
  49: PUSH_STRING         
  50: CONCAT              
  51: PUSH_STRING          ":"
  52: INTERPOLATE_STRING  
  53: PRINT               
  54: LOAD_VAR             "start"
  55: LOAD_VAR             "end"
  56: CREATE_RANGE        
  57: GET_ITERATOR        
  58: STORE_TEMP          
  59: LOAD_TEMP           
  60: ITERATOR_HAS_NEXT   
  61: JUMP_IF_FALSE        8
  62: LOAD_TEMP           
  63: ITERATOR_NEXT       
  64: STORE_VAR            "k"
  65: BEGIN_SCOPE         
  66: LOAD_VAR             "k"
  67: PRINT               
  68: END_SCOPE           
  69: JUMP                 -11
  70: CLEAR_TEMP          
  71: PUSH_INT             2
  72: STORE_VAR            "base"
  73: PUSH_STRING         
  74: LOAD_VAR             "base"
  75: PUSH_STRING         
  76: CONCAT              
  77: LOAD_VAR             "base"
  78: PUSH_INT             3
  79: ADD                 
  80: PUSH_STRING         
  81: CONCAT              
  82: PUSH_STRING          ":"
  83: INTERPOLATE_STRING  
  84: PRINT               
  85: LOAD_VAR             "base"
  86: LOAD_VAR             "base"
  87: PUSH_INT             3
  88: ADD                 
  89: CREATE_RANGE        
  90: GET_ITERATOR        
  91: STORE_TEMP          
  92: LOAD_TEMP           
  93: ITERATOR_HAS_NEXT   
  94: JUMP_IF_FALSE        8
  95: LOAD_TEMP           
  96: ITERATOR_NEXT       
  97: STORE_VAR            "x"
  98: BEGIN_SCOPE         
  99: LOAD_VAR             "x"
 100: PRINT               
 101: END_SCOPE           
 102: JUMP                 -11
 103: CLEAR_TEMP          
 104: PUSH_STRING          "Nested ranges:"
 105: PRINT               
 106: PUSH_INT             1
 107: PUSH_INT             3
 108: CREATE_RANGE        
 109: GET_ITERATOR        
 110: STORE_TEMP          
 111: LOAD_TEMP           
 112: ITERATOR_HAS_NEXT   
 113: JUMP_IF_FALSE        41
 114: LOAD_TEMP           
 115: ITERATOR_NEXT       
 116: STORE_VAR            "i"
 117: BEGIN_SCOPE         
 118: PUSH_STRING         
 119: LOAD_VAR             "i"
 120: PUSH_STRING         
 121: CONCAT              
 122: PUSH_STRING          ""Outer: {i}"
 123: INTERPOLATE_STRING  
 124: PRINT               
 125: LOAD_VAR             "i"
 126: PUSH_INT             10
 127: MULTIPLY            
 128: LOAD_VAR             "i"
 129: PUSH_INT             10
 130: MULTIPLY            
 131: PUSH_INT             2
 132: ADD                 
 133: CREATE_RANGE        
 134: GET_ITERATOR        
 135: STORE_TEMP          
 136: LOAD_TEMP           
 137: ITERATOR_HAS_NEXT   
 138: JUMP_IF_FALSE        13
 139: LOAD_TEMP           
 140: ITERATOR_NEXT       
 141: STORE_VAR            "j"
 142: BEGIN_SCOPE         
 143: PUSH_STRING         
 144: LOAD_VAR             "j"
 145: PUSH_STRING         
 146: CONCAT              
 147: PUSH_STRING          ""  Inner: {j}"
 148: INTERPOLATE_STRING  
 149: PRINT               
 150: END_SCOPE           
 151: JUMP                 -16
 152: CLEAR_TEMP          
 153: END_SCOPE           
 154: JUMP                 -44
 155: CLEAR_TEMP          
 156: PUSH_STRING          "Empty range (5..5):"
 157: PRINT               
 158: PUSH_INT             5
 159: PUSH_INT             5
 160: CREATE_RANGE        
 161: GET_ITERATOR        
 162: STORE_TEMP          
 163: LOAD_TEMP           
 164: ITERATOR_HAS_NEXT   
 165: JUMP_IF_FALSE        13
 166: LOAD_TEMP           
 167: ITERATOR_NEXT       
 168: STORE_VAR            "empty"
 169: BEGIN_SCOPE         
 170: PUSH_STRING         
 171: LOAD_VAR             "empty"
 172: PUSH_STRING         
 173: CONCAT              
 174: PUSH_STRING          ""This should not print: {empty}"
 175: INTERPOLATE_STRING  
 176: PRINT               
 177: END_SCOPE           
 178: JUMP                 -16
 179: CLEAR_TEMP          
 180: PUSH_STRING          "Empty range test complete"
 181: PRINT               
 182: HALT                

