// Test parallel blocks (if implemented)
print("=== Parallel Block Tests ===");

// Basic parallel block
print("Basic parallel execution:");
fn spawn_task(id: int, ch: Channel): nil {
    print("Executing parallel task {id}");
    sleep(randint(1, 3));
    ch.send("Task {id} completed");
}

var task_channel: Channel = Channel();

parallel(tasks, cores=Auto, on_error=Auto) {
    iter (var i = 1; i <= 3; i++) {
        spawn_task(i, task_channel);
    }
}

iter (message in task_channel) {
    print("Received: {message}");
}