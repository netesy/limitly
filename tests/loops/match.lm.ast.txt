AST for tests\loops\match.lm
Parser: New CSTParser (cst_parser.cpp)
Mode: CST with AST compatibility
Note: CST nodes were created internally with trivia preservation
      AST output shown below for compatibility testing
========================================

AST Dump:
==========
VarDeclaration: x
  Type: int
  Initializer:
    Literal: 5
MatchStatement:
  Value:
    Variable: x
  Cases:
    Case:
      Pattern:
      Literal: 5
      Body:
      BlockStatement:
        PrintStatement:
          Literal: "x is five"
    Case:
      Pattern:
      Literal: 10
      Body:
      BlockStatement:
        PrintStatement:
          Literal: "x is ten"
    Case:
      Pattern:
      Literal: nil
      Body:
      BlockStatement:
        PrintStatement:
          Literal: "x is something else"
VarDeclaration: value
  Initializer:
    Literal: false
MatchStatement:
  Value:
    Variable: value
  Cases:
    Case:
      Pattern:
      TypePattern: int
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: value
            String: "\"Integer: {value}"
    Case:
      Pattern:
      TypePattern: str
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: value
            String: "\"String: {value}"
    Case:
      Pattern:
      TypePattern: list
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: value
            String: "\"List of integers: {value}"
    Case:
      Pattern:
      TypePattern: dict
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: value
            String: "\"Dictionary: {value}"
    Case:
      Pattern:
      Literal: nil
      Body:
      BlockStatement:
        PrintStatement:
          Literal: "Unknown type"
MatchStatement:
  Value:
    Literal: 18
  Cases:
    Case:
      Pattern:
      Variable: x
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: x
            String: " is greater than 10"
    Case:
      Pattern:
      Variable: x
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: x
            String: " is less than 10"
    Case:
      Pattern:
      Variable: x
      Body:
      BlockStatement:
        PrintStatement:
          InterpolatedString:
            String: ""
            Expression:
              Variable: x
            String: " is 10"
FunctionDeclaration: match_example
  Parameters:
    value
  Body:
    BlockStatement:
      MatchStatement:
        Value:
          Variable: value
        Cases:
          Case:
            Pattern:
            TypePattern: int
            Body:
            BlockStatement:
              PrintStatement:
                InterpolatedString:
                  String: ""
                  Expression:
                    Variable: value
                  String: "\"Integer: {value}"
          Case:
            Pattern:
            TypePattern: str
            Body:
            BlockStatement:
              PrintStatement:
                InterpolatedString:
                  String: ""
                  Expression:
                    Variable: value
                  String: "\"String: {value}"
          Case:
            Pattern:
            TypePattern: list
            Body:
            BlockStatement:
              PrintStatement:
                InterpolatedString:
                  String: ""
                  Expression:
                    Variable: value
                  String: "\"List of integers: {value}"
          Case:
            Pattern:
            TypePattern: dict
            Body:
            BlockStatement:
              PrintStatement:
                InterpolatedString:
                  String: ""
                  Expression:
                    Variable: value
                  String: "\"Dictionary: {value}"
          Case:
            Pattern:
            Literal: nil
            Body:
            BlockStatement:
              PrintStatement:
                Literal: "Unknown type"
ExpressionStatement:
  CallExpression:
    Callee:
      Variable: match_example
    Arguments:
      Literal: 42
ExpressionStatement:
  CallExpression:
    Callee:
      Variable: match_example
    Arguments:
      Literal: "Hello, Luminar!"
ExpressionStatement:
  CallExpression:
    Callee:
      Variable: match_example
    Arguments:
      ListExpression: [3 elements]
        Literal: 1
        Literal: 2
        Literal: 3
ExpressionStatement:
  CallExpression:
    Callee:
      Variable: match_example
    Arguments:
      DictionaryExpression: {2 entries}
        Key:
          Literal: "a"
        Value:
          Literal: 1
        Key:
          Literal: "b"
        Value:
          Literal: 2
