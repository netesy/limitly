AST for tests\loops\for_loops.lm
Parser: New Unified Parser (CST mode)
Mode: CST with AST compatibility
Note: CST nodes were created internally with trivia preservation
      AST output shown below for compatibility testing
========================================

AST Dump:
==========
PrintStatement:
  Literal: === For Loop Tests ===
PrintStatement:
  Literal: Basic for loop (0 to 4):
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] i
      Initializer:
        Literal: 0
  Condition:
    BinaryExpression: <
      Left:
        Variable: i
      Operator: <
      Right:
        Literal: 5
  Increment:
    Assignment: +=
      Target: i
      Value:
      Literal: 1
  Body:
    BlockStatement:
      PrintStatement:
        InterpolatedString:
          String: "i = "
          Expression:
            Variable: i
          String: ""
PrintStatement:
  Literal: For loop with increment 2:
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] j
      Initializer:
        Literal: 0
  Condition:
    BinaryExpression: <
      Left:
        Variable: j
      Operator: <
      Right:
        Literal: 10
  Increment:
    Assignment: +=
      Target: j
      Value:
      Literal: 2
  Body:
    BlockStatement:
      PrintStatement:
        InterpolatedString:
          String: "j = "
          Expression:
            Variable: j
          String: ""
PrintStatement:
  Literal: Countdown loop:
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] k
      Initializer:
        Literal: 5
  Condition:
    BinaryExpression: >
      Left:
        Variable: k
      Operator: >
      Right:
        Literal: 0
  Increment:
    Assignment: -=
      Target: k
      Value:
      Literal: 1
  Body:
    BlockStatement:
      PrintStatement:
        InterpolatedString:
          String: "k = "
          Expression:
            Variable: k
          String: ""
PrintStatement:
  Literal: Complex condition:
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] x
      Initializer:
        Literal: 1
  Condition:
    BinaryExpression: <
      Left:
        BinaryExpression: *
          Left:
            Variable: x
          Operator: *
          Right:
            Variable: x
      Operator: <
      Right:
        Literal: 20
  Increment:
    Assignment: +=
      Target: x
      Value:
      Literal: 1
  Body:
    BlockStatement:
      PrintStatement:
        InterpolatedString:
          String: "x = "
          Expression:
            Variable: x
          String: ", xÂ² = "
          Expression:
            BinaryExpression: *
              Left:
                Variable: x
              Operator: *
              Right:
                Variable: x
          String: ""
PrintStatement:
  Literal: Nested for loops (2x3 grid):
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] row
      Initializer:
        Literal: 0
  Condition:
    BinaryExpression: <=
      Left:
        Variable: row
      Operator: <=
      Right:
        Literal: 2
  Increment:
    Assignment: +=
      Target: row
      Value:
      Literal: 1
  Body:
    BlockStatement:
      ForStatement (traditional):
        Initializer:
          VarDeclaration: [private] col
            Initializer:
              Literal: 0
        Condition:
          BinaryExpression: <
            Left:
              Variable: col
            Operator: <
            Right:
              Literal: 3
        Increment:
          Assignment: +=
            Target: col
            Value:
            Literal: 1
        Body:
          BlockStatement:
            PrintStatement:
              InterpolatedString:
                String: "("
                Expression:
                  Variable: row
                String: ", "
                Expression:
                  Variable: col
                String: ")"
PrintStatement:
  Literal: Variable scope test: new Issue
VarDeclaration: [private] outer
  Type: int
  Initializer:
    Literal: 100
ForStatement (traditional):
  Initializer:
    VarDeclaration: [private] i
      Initializer:
        Literal: 0
  Condition:
    BinaryExpression: <
      Left:
        Variable: i
      Operator: <
      Right:
        Literal: 4
  Increment:
    Assignment: +=
      Target: i
      Value:
      Literal: 1
  Body:
    BlockStatement:
      VarDeclaration: [private] inner
        Initializer:
          BinaryExpression: *
            Left:
              Variable: i
            Operator: *
            Right:
              Literal: 10
      PrintStatement:
        InterpolatedString:
          String: "outer: "
          Expression:
            Variable: outer
          String: ", inner: "
          Expression:
            Variable: inner
          String: ""
