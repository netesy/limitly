// Test iter loops
print("=== Iter Loop Tests ===");

// Basic range iteration
print("Basic range (1 to 5):");
var sum1 = 0;
iter (var i in 1..6) {
    sum1 += i;
}
assert(sum1 == 15, "Basic range iteration failed");

// Range with different bounds
print("Range (0 to 3):");
var sum2 = 0;
iter (var x in 0..4) {
    sum2 += x;
}
assert(sum2 == 6, "Range with different bounds failed");

// Nested iter loops
print("Nested iter loops:");
var nested_sum = 0;
iter (var x in 1..3) {
    iter (var j in 10..12) {
        nested_sum += 1;
    }
}
assert(nested_sum == 6, "Nested iter loops failed");

// Mixed nested loops (for + iter)
print("Mixed loops (for outer, iter inner):");
var mixed_sum1 = 0;
for (var i = 0; i < 4; i += 2) {
    iter (var j in 5..7) {
        mixed_sum1 += 1;
    }
}
assert(mixed_sum1 == 4, "Mixed nested loops (for + iter) failed");

// Mixed nested loops (iter + for)
print("Mixed loops (iter outer, for inner):");
var mixed_sum2 = 0;
iter (var i in 1..3) {
    for (var j = 0; j < 5; j += 2) {
        mixed_sum2 += 1;
    }
}
assert(mixed_sum2 == 6, "Mixed nested loops (iter + for) failed");

// Range with expressions
var start = 2;
var end = 5;
print("Range with variables ({start} to {end}):");
var sum3 = 0;
iter (var k in start..end) {
    sum3 += k;
}
assert(sum3 == 9, "Range with expressions failed");