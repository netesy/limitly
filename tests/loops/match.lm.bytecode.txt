Bytecode for tests\loops\match.lm
Parser: New CSTParser
========================================

=== Bytecode ===
Generated 258 instructions

   0: PUSH_INT             5
   1: STORE_VAR            "x"
   2: LOAD_VAR             "x"
   3: STORE_TEMP          
   4: LOAD_TEMP           
   5: PUSH_INT             5
   6: MATCH_PATTERN       
   7: JUMP_IF_FALSE        5
   8: BEGIN_SCOPE         
   9: PUSH_STRING          "x is five"
  10: PRINT               
  11: END_SCOPE           
  12: JUMP                 18
  13: LOAD_TEMP           
  14: PUSH_INT             10
  15: MATCH_PATTERN       
  16: JUMP_IF_FALSE        5
  17: BEGIN_SCOPE         
  18: PUSH_STRING          "x is ten"
  19: PRINT               
  20: END_SCOPE           
  21: JUMP                 9
  22: LOAD_TEMP           
  23: PUSH_NULL           
  24: MATCH_PATTERN       
  25: JUMP_IF_FALSE        5
  26: BEGIN_SCOPE         
  27: PUSH_STRING          "x is something else"
  28: PRINT               
  29: END_SCOPE           
  30: JUMP                 0
  31: CLEAR_TEMP          
  32: PUSH_BOOL            false
  33: STORE_VAR            "value"
  34: LOAD_VAR             "value"
  35: STORE_TEMP          
  36: LOAD_TEMP           
  37: PUSH_STRING          "int"
  38: MATCH_PATTERN       
  39: JUMP_IF_FALSE        10
  40: BEGIN_SCOPE         
  41: PUSH_STRING         
  42: LOAD_VAR             "value"
  43: PUSH_STRING         
  44: CONCAT              
  45: PUSH_STRING          ""Integer: {value}"
  46: INTERPOLATE_STRING  
  47: PRINT               
  48: END_SCOPE           
  49: JUMP                 51
  50: LOAD_TEMP           
  51: PUSH_STRING          "str"
  52: MATCH_PATTERN       
  53: JUMP_IF_FALSE        10
  54: BEGIN_SCOPE         
  55: PUSH_STRING         
  56: LOAD_VAR             "value"
  57: PUSH_STRING         
  58: CONCAT              
  59: PUSH_STRING          ""String: {value}"
  60: INTERPOLATE_STRING  
  61: PRINT               
  62: END_SCOPE           
  63: JUMP                 37
  64: LOAD_TEMP           
  65: PUSH_STRING          "list"
  66: MATCH_PATTERN       
  67: JUMP_IF_FALSE        10
  68: BEGIN_SCOPE         
  69: PUSH_STRING         
  70: LOAD_VAR             "value"
  71: PUSH_STRING         
  72: CONCAT              
  73: PUSH_STRING          ""List of integers: {value}"
  74: INTERPOLATE_STRING  
  75: PRINT               
  76: END_SCOPE           
  77: JUMP                 23
  78: LOAD_TEMP           
  79: PUSH_STRING          "dict"
  80: MATCH_PATTERN       
  81: JUMP_IF_FALSE        10
  82: BEGIN_SCOPE         
  83: PUSH_STRING         
  84: LOAD_VAR             "value"
  85: PUSH_STRING         
  86: CONCAT              
  87: PUSH_STRING          ""Dictionary: {value}"
  88: INTERPOLATE_STRING  
  89: PRINT               
  90: END_SCOPE           
  91: JUMP                 9
  92: LOAD_TEMP           
  93: PUSH_NULL           
  94: MATCH_PATTERN       
  95: JUMP_IF_FALSE        5
  96: BEGIN_SCOPE         
  97: PUSH_STRING          "Unknown type"
  98: PRINT               
  99: END_SCOPE           
 100: JUMP                 0
 101: CLEAR_TEMP          
 102: PUSH_INT             18
 103: STORE_TEMP          
 104: LOAD_TEMP           
 105: DUP                 
 106: STORE_VAR            "x"
 107: PUSH_STRING          "_"
 108: MATCH_PATTERN       
 109: JUMP_IF_FALSE        14
 110: LOAD_VAR             "x"
 111: PUSH_INT             10
 112: GREATER             
 113: JUMP_IF_FALSE        10
 114: BEGIN_SCOPE         
 115: PUSH_STRING         
 116: LOAD_VAR             "x"
 117: PUSH_STRING         
 118: CONCAT              
 119: PUSH_STRING          " is greater than 10"
 120: INTERPOLATE_STRING  
 121: PRINT               
 122: END_SCOPE           
 123: JUMP                 36
 124: LOAD_TEMP           
 125: DUP                 
 126: STORE_VAR            "x"
 127: PUSH_STRING          "_"
 128: MATCH_PATTERN       
 129: JUMP_IF_FALSE        14
 130: LOAD_VAR             "x"
 131: PUSH_INT             10
 132: LESS                
 133: JUMP_IF_FALSE        10
 134: BEGIN_SCOPE         
 135: PUSH_STRING         
 136: LOAD_VAR             "x"
 137: PUSH_STRING         
 138: CONCAT              
 139: PUSH_STRING          " is less than 10"
 140: INTERPOLATE_STRING  
 141: PRINT               
 142: END_SCOPE           
 143: JUMP                 16
 144: LOAD_TEMP           
 145: DUP                 
 146: STORE_VAR            "x"
 147: PUSH_STRING          "_"
 148: MATCH_PATTERN       
 149: JUMP_IF_FALSE        10
 150: BEGIN_SCOPE         
 151: PUSH_STRING         
 152: LOAD_VAR             "x"
 153: PUSH_STRING         
 154: CONCAT              
 155: PUSH_STRING          " is 10"
 156: INTERPOLATE_STRING  
 157: PRINT               
 158: END_SCOPE           
 159: JUMP                 0
 160: CLEAR_TEMP          
 161: BEGIN_FUNCTION       "match_example"
 162: DEFINE_PARAM        
 163: BEGIN_SCOPE         
 164: LOAD_VAR             "value"
 165: STORE_TEMP          
 166: LOAD_TEMP           
 167: PUSH_STRING          "int"
 168: MATCH_PATTERN       
 169: JUMP_IF_FALSE        10
 170: BEGIN_SCOPE         
 171: PUSH_STRING         
 172: LOAD_VAR             "value"
 173: PUSH_STRING         
 174: CONCAT              
 175: PUSH_STRING          ""Integer: {value}"
 176: INTERPOLATE_STRING  
 177: PRINT               
 178: END_SCOPE           
 179: JUMP                 51
 180: LOAD_TEMP           
 181: PUSH_STRING          "str"
 182: MATCH_PATTERN       
 183: JUMP_IF_FALSE        10
 184: BEGIN_SCOPE         
 185: PUSH_STRING         
 186: LOAD_VAR             "value"
 187: PUSH_STRING         
 188: CONCAT              
 189: PUSH_STRING          ""String: {value}"
 190: INTERPOLATE_STRING  
 191: PRINT               
 192: END_SCOPE           
 193: JUMP                 37
 194: LOAD_TEMP           
 195: PUSH_STRING          "list"
 196: MATCH_PATTERN       
 197: JUMP_IF_FALSE        10
 198: BEGIN_SCOPE         
 199: PUSH_STRING         
 200: LOAD_VAR             "value"
 201: PUSH_STRING         
 202: CONCAT              
 203: PUSH_STRING          ""List of integers: {value}"
 204: INTERPOLATE_STRING  
 205: PRINT               
 206: END_SCOPE           
 207: JUMP                 23
 208: LOAD_TEMP           
 209: PUSH_STRING          "dict"
 210: MATCH_PATTERN       
 211: JUMP_IF_FALSE        10
 212: BEGIN_SCOPE         
 213: PUSH_STRING         
 214: LOAD_VAR             "value"
 215: PUSH_STRING         
 216: CONCAT              
 217: PUSH_STRING          ""Dictionary: {value}"
 218: INTERPOLATE_STRING  
 219: PRINT               
 220: END_SCOPE           
 221: JUMP                 9
 222: LOAD_TEMP           
 223: PUSH_NULL           
 224: MATCH_PATTERN       
 225: JUMP_IF_FALSE        5
 226: BEGIN_SCOPE         
 227: PUSH_STRING          "Unknown type"
 228: PRINT               
 229: END_SCOPE           
 230: JUMP                 0
 231: CLEAR_TEMP          
 232: END_SCOPE           
 233: PUSH_NULL           
 234: RETURN              
 235: END_FUNCTION        
 236: PUSH_FUNCTION       
 237: STORE_VAR            "match_example"
 238: PUSH_INT             42
 239: CALL                 "match_example"
 240: POP                 
 241: PUSH_STRING          "Hello, Luminar!"
 242: CALL                 "match_example"
 243: POP                 
 244: PUSH_INT             1
 245: PUSH_INT             2
 246: PUSH_INT             3
 247: CREATE_LIST         
 248: CALL                 "match_example"
 249: POP                 
 250: PUSH_STRING          "a"
 251: PUSH_INT             1
 252: PUSH_STRING          "b"
 253: PUSH_INT             2
 254: CREATE_DICT         
 255: CALL                 "match_example"
 256: POP                 
 257: HALT                

