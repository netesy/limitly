Bytecode for tests\loops\match.lm
========================================

Total instructions: 248

   1: PUSH_INT             (line 1) 5
2   : STORE_VAR            (line 1) x
3   : LOAD_VAR             (line 3) x
4   : STORE_TEMP           (line 3)
5   : LOAD_TEMP            (line 3)
6   : PUSH_INT             (line 4) 5
7   : MATCH_PATTERN        (line 3)
8   : JUMP_IF_FALSE        (line 3) 5
9   : BEGIN_SCOPE          (line 4)
10  : PUSH_STRING          (line 5) "x is five"
11  : PRINT                (line 5)
12  : END_SCOPE            (line 4)
13  : JUMP                 (line 3) 18
14  : LOAD_TEMP            (line 3)
15  : PUSH_INT             (line 7) 10
16  : MATCH_PATTERN        (line 3)
17  : JUMP_IF_FALSE        (line 3) 5
18  : BEGIN_SCOPE          (line 7)
19  : PUSH_STRING          (line 8) "x is ten"
20  : PRINT                (line 8)
21  : END_SCOPE            (line 7)
22  : JUMP                 (line 3) 9
23  : LOAD_TEMP            (line 3)
24  : PUSH_NULL            (line 10)
25  : MATCH_PATTERN        (line 3)
26  : JUMP_IF_FALSE        (line 3) 5
27  : BEGIN_SCOPE          (line 10)
28  : PUSH_STRING          (line 11) "x is something else"
29  : PRINT                (line 11)
30  : END_SCOPE            (line 10)
31  : JUMP                 (line 3) 0
32  : CLEAR_TEMP           (line 3)
33  : PUSH_BOOL            (line 15) false
34  : STORE_VAR            (line 15) value
35  : LOAD_VAR             (line 16) value
36  : STORE_TEMP           (line 16)
37  : LOAD_TEMP            (line 16)
38  : PUSH_STRING          (line 17) "int"
39  : MATCH_PATTERN        (line 16)
40  : JUMP_IF_FALSE        (line 16) 9
41  : BEGIN_SCOPE          (line 17)
42  : PUSH_STRING          (line 18) "Integer: "
43  : LOAD_VAR             (line 18) value
44  : PUSH_STRING          (line 18) ""
45  : CONCAT               (line 18)
46  : INTERPOLATE_STRING   (line 18)
47  : PRINT                (line 18)
48  : END_SCOPE            (line 17)
49  : JUMP                 (line 16) 48
50  : LOAD_TEMP            (line 16)
51  : PUSH_STRING          (line 20) "str"
52  : MATCH_PATTERN        (line 16)
53  : JUMP_IF_FALSE        (line 16) 9
54  : BEGIN_SCOPE          (line 20)
55  : PUSH_STRING          (line 21) "String: "
56  : LOAD_VAR             (line 21) value
57  : PUSH_STRING          (line 21) ""
58  : CONCAT               (line 21)
59  : INTERPOLATE_STRING   (line 21)
60  : PRINT                (line 21)
61  : END_SCOPE            (line 20)
62  : JUMP                 (line 16) 35
63  : LOAD_TEMP            (line 16)
64  : PUSH_STRING          (line 23) "list"
65  : MATCH_PATTERN        (line 16)
66  : JUMP_IF_FALSE        (line 16) 9
67  : BEGIN_SCOPE          (line 23)
68  : PUSH_STRING          (line 24) "List of integers: "
69  : LOAD_VAR             (line 24) value
70  : PUSH_STRING          (line 24) ""
71  : CONCAT               (line 24)
72  : INTERPOLATE_STRING   (line 24)
73  : PRINT                (line 24)
74  : END_SCOPE            (line 23)
75  : JUMP                 (line 16) 22
76  : LOAD_TEMP            (line 16)
77  : PUSH_STRING          (line 25) "dict"
78  : MATCH_PATTERN        (line 16)
79  : JUMP_IF_FALSE        (line 16) 9
80  : BEGIN_SCOPE          (line 25)
81  : PUSH_STRING          (line 25) "Dictionary: "
82  : LOAD_VAR             (line 25) value
83  : PUSH_STRING          (line 25) ""
84  : CONCAT               (line 25)
85  : INTERPOLATE_STRING   (line 25)
86  : PRINT                (line 25)
87  : END_SCOPE            (line 25)
88  : JUMP                 (line 16) 9
89  : LOAD_TEMP            (line 16)
90  : PUSH_NULL            (line 26)
91  : MATCH_PATTERN        (line 16)
92  : JUMP_IF_FALSE        (line 16) 5
93  : BEGIN_SCOPE          (line 26)
94  : PUSH_STRING          (line 26) "Unknown type"
95  : PRINT                (line 26)
96  : END_SCOPE            (line 26)
97  : JUMP                 (line 16) 0
98  : CLEAR_TEMP           (line 16)
99  : PUSH_INT             (line 31) 18
100 : STORE_TEMP           (line 31)
101 : LOAD_TEMP            (line 31)
102 : DUP                  (line 32)
103 : STORE_VAR            (line 32) x
104 : PUSH_STRING          (line 32) "_"
105 : MATCH_PATTERN        (line 31)
106 : JUMP_IF_FALSE        (line 31) 14
107 : LOAD_VAR             (line 32) x
108 : PUSH_INT             (line 32) 10
109 : GREATER              (line 32)
110 : JUMP_IF_FALSE        (line 31) 10
111 : BEGIN_SCOPE          (line 32)
112 : PUSH_STRING          (line 32) ""
113 : LOAD_VAR             (line 32) x
114 : PUSH_STRING          (line 32) ""
115 : CONCAT               (line 32)
116 : PUSH_STRING          (line 32) " is greater than 10"
117 : INTERPOLATE_STRING   (line 32)
118 : PRINT                (line 32)
119 : END_SCOPE            (line 32)
120 : JUMP                 (line 31) 36
121 : LOAD_TEMP            (line 31)
122 : DUP                  (line 33)
123 : STORE_VAR            (line 33) x
124 : PUSH_STRING          (line 33) "_"
125 : MATCH_PATTERN        (line 31)
126 : JUMP_IF_FALSE        (line 31) 14
127 : LOAD_VAR             (line 33) x
128 : PUSH_INT             (line 33) 10
129 : LESS                 (line 33)
130 : JUMP_IF_FALSE        (line 31) 10
131 : BEGIN_SCOPE          (line 33)
132 : PUSH_STRING          (line 33) ""
133 : LOAD_VAR             (line 33) x
134 : PUSH_STRING          (line 33) ""
135 : CONCAT               (line 33)
136 : PUSH_STRING          (line 33) " is less than 10"
137 : INTERPOLATE_STRING   (line 33)
138 : PRINT                (line 33)
139 : END_SCOPE            (line 33)
140 : JUMP                 (line 31) 16
141 : LOAD_TEMP            (line 31)
142 : DUP                  (line 34)
143 : STORE_VAR            (line 34) x
144 : PUSH_STRING          (line 34) "_"
145 : MATCH_PATTERN        (line 31)
146 : JUMP_IF_FALSE        (line 31) 10
147 : BEGIN_SCOPE          (line 34)
148 : PUSH_STRING          (line 34) ""
149 : LOAD_VAR             (line 34) x
150 : PUSH_STRING          (line 34) ""
151 : CONCAT               (line 34)
152 : PUSH_STRING          (line 34) " is 10"
153 : INTERPOLATE_STRING   (line 34)
154 : PRINT                (line 34)
155 : END_SCOPE            (line 34)
156 : JUMP                 (line 31) 0
157 : CLEAR_TEMP           (line 31)
158 : BEGIN_FUNCTION       (line 37)
159 : DEFINE_PARAM         (line 37) value
160 : BEGIN_SCOPE          (line 37)
161 : LOAD_VAR             (line 38) value
162 : STORE_TEMP           (line 38)
163 : LOAD_TEMP            (line 38)
164 : PUSH_STRING          (line 39) "int"
165 : MATCH_PATTERN        (line 38)
166 : JUMP_IF_FALSE        (line 38) 9
167 : BEGIN_SCOPE          (line 39)
168 : PUSH_STRING          (line 39) "Integer: "
169 : LOAD_VAR             (line 39) value
170 : PUSH_STRING          (line 39) ""
171 : CONCAT               (line 39)
172 : INTERPOLATE_STRING   (line 39)
173 : PRINT                (line 39)
174 : END_SCOPE            (line 39)
175 : JUMP                 (line 38) 48
176 : LOAD_TEMP            (line 38)
177 : PUSH_STRING          (line 40) "str"
178 : MATCH_PATTERN        (line 38)
179 : JUMP_IF_FALSE        (line 38) 9
180 : BEGIN_SCOPE          (line 40)
181 : PUSH_STRING          (line 40) "String: "
182 : LOAD_VAR             (line 40) value
183 : PUSH_STRING          (line 40) ""
184 : CONCAT               (line 40)
185 : INTERPOLATE_STRING   (line 40)
186 : PRINT                (line 40)
187 : END_SCOPE            (line 40)
188 : JUMP                 (line 38) 35
189 : LOAD_TEMP            (line 38)
190 : PUSH_STRING          (line 41) "list"
191 : MATCH_PATTERN        (line 38)
192 : JUMP_IF_FALSE        (line 38) 9
193 : BEGIN_SCOPE          (line 41)
194 : PUSH_STRING          (line 41) "List of integers: "
195 : LOAD_VAR             (line 41) value
196 : PUSH_STRING          (line 41) ""
197 : CONCAT               (line 41)
198 : INTERPOLATE_STRING   (line 41)
199 : PRINT                (line 41)
200 : END_SCOPE            (line 41)
201 : JUMP                 (line 38) 22
202 : LOAD_TEMP            (line 38)
203 : PUSH_STRING          (line 42) "dict"
204 : MATCH_PATTERN        (line 38)
205 : JUMP_IF_FALSE        (line 38) 9
206 : BEGIN_SCOPE          (line 42)
207 : PUSH_STRING          (line 42) "Dictionary: "
208 : LOAD_VAR             (line 42) value
209 : PUSH_STRING          (line 42) ""
210 : CONCAT               (line 42)
211 : INTERPOLATE_STRING   (line 42)
212 : PRINT                (line 42)
213 : END_SCOPE            (line 42)
214 : JUMP                 (line 38) 9
215 : LOAD_TEMP            (line 38)
216 : PUSH_NULL            (line 43)
217 : MATCH_PATTERN        (line 38)
218 : JUMP_IF_FALSE        (line 38) 5
219 : BEGIN_SCOPE          (line 43)
220 : PUSH_STRING          (line 43) "Unknown type"
221 : PRINT                (line 43)
222 : END_SCOPE            (line 43)
223 : JUMP                 (line 38) 0
224 : CLEAR_TEMP           (line 38)
225 : END_SCOPE            (line 37)
226 : PUSH_NULL            (line 37)
227 : RETURN               (line 37)
228 : END_FUNCTION         (line 37)
229 : PUSH_INT             (line 48) 42
230 : CALL                 (line 48) 1
231 : POP                  (line 48)
232 : PUSH_STRING          (line 49) "Hello, Luminar!"
233 : CALL                 (line 49) 1
234 : POP                  (line 49)
235 : PUSH_INT             (line 50) 1
236 : PUSH_INT             (line 50) 2
237 : PUSH_INT             (line 50) 3
238 : CREATE_LIST          (line 50) 3
239 : CALL                 (line 50) 1
240 : POP                  (line 50)
241 : PUSH_STRING          (line 51) "a"
242 : PUSH_INT             (line 51) 1
243 : PUSH_STRING          (line 51) "b"
244 : PUSH_INT             (line 51) 2
245 : CREATE_DICT          (line 51) 2
246 : CALL                 (line 51) 1
247 : POP                  (line 51)
248 : HALT                 (line 0)
