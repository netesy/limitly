CST for C:\Projects\limitly\tests\cst\parser\invalid_syntax_recovery.lm
Parser: New CSTParser from cst_parser.cpp
Mode: CST (cstMode=true)
========================================

CST Statistics:
- CST nodes created: 11
- Trivia attachments: 18
- Parse errors: 1

Parse Errors:
  Line 20: Expected '}' after block.
Caused by: Unterminated if starting at line 12:
12 | if - unclosed block starts here

=== Full CST Structure ===
+ Node: PROGRAM [0-228] (Program root node)
├─ + Node: VAR_DECLARATION [0-163] (var declaration)
│ ├─ + Node: COMMENT_NODE | Token: // Test invalid syntax recovery in CST parser [0-45]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [45-46]
│ ├─ + Node: COMMENT_NODE | Token: // This file contains syntax errors to test error recovery and partial node creation [46-130]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [130-131]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [131-132]
│ ├─ + Node: COMMENT_NODE | Token: // Valid code first [132-151]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [151-152]
│ ├─ Token: var [152-155]
│ ├─ + Node: WHITESPACE_NODE | Token:   [155-156]
│ ├─ + Node: IDENTIFIER [156-157]
│ │ └─ Token: x [156-157]
│ ├─ + Node: ASSIGNMENT_EXPR [158-162]
│ │ ├─ Token: = [158-159]
│ │ └─ + Node: LITERAL_EXPR [160-162]
│ │   └─ Token: 42 [160-162]
│ └─ Token: ; [162-163]
├─ + Node: VAR_DECLARATION [163-213] (var declaration)
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [163-164]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [164-165]
│ ├─ + Node: COMMENT_NODE | Token: // Missing semicolon - should recover [165-202]
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [202-203]
│ ├─ Token: var [203-206]
│ ├─ + Node: WHITESPACE_NODE | Token:   [206-207]
│ ├─ + Node: IDENTIFIER [207-208]
│ │ └─ Token: y [207-208]
│ └─ + Node: ASSIGNMENT_EXPR [209-213]
│   ├─ Token: = [209-210]
│   └─ + Node: LITERAL_EXPR [211-213]
│     └─ Token: 24 [211-213]
├─ + Node: VAR_DECLARATION [213-228] (var declaration)
│ ├─ + Node: WHITESPACE_NODE | Token: 
 [213-214]
│ ├─ Token: var [214-217]
│ ├─ + Node: WHITESPACE_NODE | Token:   [217-218]
│ ├─ + Node: IDENTIFIER [218-219]
│ │ └─ Token: z [218-219]
│ ├─ + Node: ASSIGNMENT_EXPR [220-227]
│ │ ├─ Token: = [220-221]
│ │ └─ + Node: LITERAL_EXPR [226-227]
│ │   └─ Token: y [226-227]
│ └─ Token: ; [227-228]
└─ + Node: ERROR_NODE [0-0] ERROR: Expected '}' after block.
Caused by: Unterminated if starting at line 12:
12 | if - unclosed block starts here

