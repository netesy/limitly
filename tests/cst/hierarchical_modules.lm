// Test hierarchical CST structure for modules
// Module contents should be properly nested under module declarations

module TestModule {
    var moduleVar: int = 100;
    
    fn moduleFunction() {
        print("Module function called");
        
        if (moduleVar > 50) {
            print("Module var is large");
        }
        
        return moduleVar;
    }
    
    class ModuleClass {
        fn classMethod() {
            print("Class method in module");
            
            for (i in 1..3) {
                print("Loop in class method: " + i);
            }
        }
    }
    
    module NestedModule {
        var nestedVar: str = "nested";
        
        fn nestedFunction() {
            print("Nested module function");
        }
    }
}

// Top-level declarations for comparison
var globalVar: int = 42;

fn globalFunction() {
    print("Global function");
}